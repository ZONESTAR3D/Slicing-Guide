----
## <a id="choose-language">:globe_with_meridians: Choose language </a>
[![](../lanpic/EN.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuide_M4.md)
[![](../lanpic/ES.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-es.md)
[![](../lanpic/PT.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-pt.md)
[![](../lanpic/FR.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-fr.md)
[![](../lanpic/DE.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-de.md)
[![](../lanpic/IT.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-it.md)
[![](../lanpic/RU.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-ru.md)
[![](../lanpic/JP.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-jp.md)
[![](../lanpic/KR.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-kr.md)
<!-- [![](./lanpic/SA.png)](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/PrusaSlicerGuideM4-ar.md) -->

----
## :warning: ПОЖАЛУЙСТА, ВНИМАНИЕ :warning:
### Обратите внимание на тип горячего конца.
Пожалуйста, обратите внимание, чтобы отличить тип горячего конца, который вы использовали: **горячий конец смешанного цвета (M4)** или **горячий конец несмешанного цвета (E4)**.    
<u>**Если вы распечатаете файл gcode, нарезанный на хотэнде M4, с помощью хотэнда E4, он может заблокировать хотэнд, и наоборот.**</u>   
Если вы не знаете, чем отличаются хотэнды E4 и M4, обратитесь к [**здесь**][FAQ_M4E4].

----
## Нарезка многоцветных для хотенда M4
#### :loudspeaker: В данном руководстве в качестве примера взят Z9V5Pro-MK3.
### :movie_camera: [**Видеоурок**](https://youtu.be/_Ww2RFGlLNA)
[![](https://img.youtube.com/vi/_Ww2RFGlLNA/0.jpg)](https://www.youtube.com/watch?v=_Ww2RFGlLNA)

### Шаг 1: выберите настройки принтера «Z9 + M4 hotend»
![](./pic/slicingM4-1.png)
### Шаг 2: загрузите файлы 3D-модели (файл stl/obj/AMF и т. д.)
![](./pic/loadstl_1.png) ![](./pic/loadstl_2.png)
- :memo: Обычно для печати файлов многоцветных 3D-моделей требуется «разделенная модель», то есть 3D-модель была разделена на несколько файлов STL в соответствии с цветами, и эти файлы используют одну и ту же исходную координатную позицию, чтобы их можно было быть объединены правильно.
- :star2: PrusaSlicer имеет новую мощную функцию: он может раскрашивать файл 3D-модели в несколько цветов. Подробную информацию можно найти в :movie_camera: [**Руководство по нарезке: преобразование одноцветного 3D-файла в многоцветный**](https://youtu.be/Yx4fKDRGEJ4).
##### [![](https://img.youtube.com/vi/Yx4fKDRGEJ4/0.jpg)](https://www.youtube.com/watch?v=Yx4fKDRGEJ4)

### Шаг 3. Выберите тип нити и установите ее цвет.
![](./pic/filament_color.png)
### Шаг 4. Назначьте экструдеры различным частям
![](./pic/assign_extrumer.png)
### Шаг 5: При необходимости измените размер, вырежьте, поверните и переместите 3D-модель.
![](./pic/slicing_adjust.png)
### Шаг 6. Установите параметры печати
#### :warning: Обратите внимание, что параметр «Отвод при отключенном инструменте» должен быть установлен на 0.
![](./pic/switch_length.jpg)
#### установка высоты слоя, скорости печати, поддержки, заполнения и т. д.
![](./pic/slicing_set.png)
Вам необходимо задать эти параметры в соответствии с формой модели и вашими требованиями к качеству печати. Даже для некоторых моделей печать невозможно нормально выполнить без поддержки. Для получения подробной информации см.:
- :point_right: [**Введение в PrusaSlicer**](https://help.prusa3d.com/article/general-info_1910)
- :point_right: [**Руководство пользователя Slic3r**](https://manual.slic3r.org/)
  
### Шаг 7: Установите параметры для «очистки башни»
Вы можете заметить, что на разрезанной фигуре появится квадрат, который в PrusaSlicer называется «Wipe Tower». Поскольку в многоцветном принтере при переключении экструдеров внутри хотэнда все еще остаются нити предыдущего цвета, перед печатью другого цвета его необходимо очистить.
###### ![](./pic/wipe_tower.png)
Чтобы получить лучший эффект очистки и минимизировать количество отходов нити, мы можем установить объем продувки в соответствии с разными цветами. См. следующую таблицу: столбцы показывают предыдущий экструдер, а строки показывают следующий экструдер, который будет напечатан. Когда мы переключаемся с экструдера с нитями более светлого цвета на экструдер с нитями более темного цвета, мы можем установить меньший «объем очистки». Напротив, когда мы переходим от экструдера с нитями более темного цвета к экструдеру с нитями более светлого цвета, нам необходимо установить больший «объем очистки».
###### ![](./pic/slicingM4-2.png)
### Шаг 8: Нарезка
![](./pic/slicing_go.png)
### Шаг 9. Просмотрите результат нарезки (файл gcode), затем сохраните его в файл gcode на свой компьютер, а затем скопируйте на SD-карту.
![](./pic/slicing_save.png)


----
## Как напечатать более 4 цветов с помощью горячего конца M4
Горячий конец смешивания цветов M4 может смешивать 2 ~ 4 реальных нити экструдера для получения новой цветной нити, и эту новую цветную нить можно использовать в качестве нового экструдера (так называемого ** «виртуального экструдера» **), этапы работы следующие: :
***В следующем примере показано, как настроить 6 экструдеров: 4 реальных экструдера и 2 виртуальных экструдера. E5 состоит из 50 % E1 и 50 % E2, E6 — из 50 % E3 и 50 % E4.***
### Шаг 1. Добавьте виртуальные экструдеры
###### ![](./pic/slicingM4_6c_1.png)
:warning: Мы предлагаем **сохранить**<sup>1</sup> настройки в **новом профиле**<sup>2</sup>.

### Шаг 2: Установите скорость смешивания нового «виртуального экструдера».
#### Добавьте команды «Установить скорость смешивания» в «Запуск Gcode».
###### ![](./pic/slicingM4_6c_2.png)
:warning: Мы предлагаем размещать эти g-коды перед строкой «Начать G-код».
>
     ;Установить скорость смешивания
     ;E5 = 50%E1 + 50%E2
     М163 S0 P50
     М163 S1 P50
     М163 S2 P0
     М163 S3 P0
     М164 S4
     ;E6 = 50%E3 + 50%E4
     М163 S0 P0
     М163 S1 P0
     М163 S2 P50
     М163 S3 P50
     М164 S5

#### :memo: Знакомство с командами «M163» и «M164».
>
     M163: установите один коэффициент смешивания для экструдера-смесителя, за которым должен следовать M164 для их нормализации и фиксации.
      S[index] Индекс канала (фактического экструдера), который необходимо установить.
      P[float] Значение смешивания (0,0 ~ 100,0).
      R Сбросить все настройки экструдера-смесителя на значения по умолчанию.

     M164: Нормализовать и передать скорость смешивания виртуальному экструдеру.
      S[index] Виртуальный экструдер для хранения.
  
     Нормализация: автоматическое масштабирование значений соотношения смешивания каждого экструдера в соответствии с требованиями машины.

### Шаг 3. Назначьте новые виртуальные экструдеры для 3D-модели и нарезки.
Теперь вы можете назначить 6 экструдеров 3D-модели, процесс нарезки точно такой же, как и для 4 экструдеров.
1. Выберите профиль принтера.
2. Установите цвет нити новых экструдеров.
3. Назначьте экструдер для части 3D-модели.
###### ![](./pic/slicingM4_6c_3.png)

----
## Приложение
### [:book: Руководство по использованию хотэнда M4](https://github.com/ZONESTAR3D/Upgrade-kit-guide/tree/main/HOTEND/M4)
### [:book: Руководство по использованию функции смешивания цветов](https://github.com/ZONESTAR3D/Document-and-User-Guide/tree/master/Mixing_Color)
### [:arrow_down:Тестовые файлы gcode для горячего конца M4](https://github.com/ZONESTAR3D/Slicing-Guide/tree/master/PrusaSlicer/test_gcode/M4/readme.md)


----
[FAQ_M4E4]: https://github.com/ZONESTAR3D/Upgrade-kit-guide/tree/main/HOTEND/FAQ_M4E4.md